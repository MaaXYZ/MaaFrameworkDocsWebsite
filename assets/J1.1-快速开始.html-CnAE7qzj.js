import{_ as l,c as h,a as i,b as k,d as a,e,w as p,r as t,o as d}from"./app-DhFehVeD.js";const r={};function E(g,s){const n=t("RouteLink");return d(),h("div",null,[s[2]||(s[2]=i('<h1 id="快速开始" tabindex="-1"><a class="header-anchor" href="#快速开始"><span>快速开始</span></a></h1><blockquote><p>注意: 本文档是关于如何使用 NodeJS 进行集成</p></blockquote><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><p>需要NodeJS 20及以上, 创建项目文件夹后通过下列命令安装</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#000000;--shiki-dark:#d8dee9ff;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes light-plus nord vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">npm</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;"> install</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;"> @maaxyz/maa-node</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>由于npm包中集成了MaaFramework的库以及AgentBinary, 下载可能会花费一点时间.</p><h2 id="准备资源" tabindex="-1"><a class="header-anchor" href="#准备资源"><span>准备资源</span></a></h2>',7)),k("p",null,[s[1]||(s[1]=a("参考 ")),e(n,{to:"/en-us/binding/NodeJS/1.1-%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B.html#%E5%87%86%E5%A4%87%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6"},{default:p(()=>s[0]||(s[0]=[a("准备资源文件")])),_:1,__:[0]})]),s[3]||(s[3]=i(`<h2 id="连接-执行任务" tabindex="-1"><a class="header-anchor" href="#连接-执行任务"><span>连接, 执行任务</span></a></h2><p>对于一个最直接的流程而言, 我们需要执行以下步骤:</p><ul><li>扫描设备</li><li>创建控制器并连接</li><li>创建资源并加载</li><li>创建实例并绑定</li><li>执行任务</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="shiki" data-ext="typescript" style="--shiki-light:#000000;--shiki-dark:#d8dee9ff;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes light-plus nord vp-code"><code class="language-typescript"><span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#81A1C1;">import</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> *</span><span style="--shiki-light:#AF00DB;--shiki-dark:#81A1C1;"> as</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> maa</span><span style="--shiki-light:#AF00DB;--shiki-dark:#81A1C1;"> from</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">./maa</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">console</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">log</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">maa</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">Global</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">version</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;">async</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> function</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;"> main</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">()</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;">    // 查询所有Adb设备</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;">    const</span><span style="--shiki-light:#0070C1;--shiki-dark:#D8DEE9;"> devices</span><span style="--shiki-light:#000000;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#AF00DB;--shiki-dark:#81A1C1;"> await</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> maa</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">AdbController</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">find</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">()</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#81A1C1;">    if</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;"> (</span><span style="--shiki-light:#000000;--shiki-dark:#81A1C1;">!</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">devices</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">) </span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">{</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#81A1C1;">        return</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;">    // 使用第一个设备创建控制器</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;">    const</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> [</span><span style="--shiki-light:#0070C1;--shiki-dark:#D8DEE9;">name</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#0070C1;--shiki-dark:#D8DEE9;"> adb_path</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#0070C1;--shiki-dark:#D8DEE9;"> address</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#0070C1;--shiki-dark:#D8DEE9;"> screencap_methods</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#0070C1;--shiki-dark:#D8DEE9;"> input_methods</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#0070C1;--shiki-dark:#D8DEE9;"> config</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">]</span><span style="--shiki-light:#000000;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> devices</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">[</span><span style="--shiki-light:#098658;--shiki-dark:#B48EAD;">0</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">]</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;">    const</span><span style="--shiki-light:#0070C1;--shiki-dark:#D8DEE9;"> ctrl</span><span style="--shiki-light:#000000;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> new</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> maa</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">AdbController</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">(</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">        adb_path</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">        address</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">        screencap_methods</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">        input_methods</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">        config</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">    )</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">    ctrl</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">notify</span><span style="--shiki-light:#000000;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">msg</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> detail</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">)</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">        console</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">log</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">msg</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> detail</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">    }</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;">    // 连接设备</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#81A1C1;">    await</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> ctrl</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">post_connection</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">()</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">    </span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;">    // 创建资源</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;">    const</span><span style="--shiki-light:#0070C1;--shiki-dark:#D8DEE9;"> res</span><span style="--shiki-light:#000000;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> new</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> maa</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">Resource</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">()</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">    res</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">notify</span><span style="--shiki-light:#000000;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">msg</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> detail</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">)</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">        console</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">log</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">msg</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> detail</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">    }</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;">    // 加载资源</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#81A1C1;">    await</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> res</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">post_bundle</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">./resource</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;">    // 创建实例</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;">    const</span><span style="--shiki-light:#0070C1;--shiki-dark:#D8DEE9;"> tskr</span><span style="--shiki-light:#000000;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> new</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> maa</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">Tasker</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">()</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">    tskr</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">notify</span><span style="--shiki-light:#000000;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">msg</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> detail</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">)</span><span style="--shiki-light:#0000FF;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">        console</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">log</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">msg</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> detail</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">    }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">    </span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;">    // 绑定控制器和资源</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">    tskr</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">bind</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">ctrl</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">    tskr</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">bind</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">res</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;">    // 检查是否正确创建</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">    console</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">log</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">tskr</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">inited</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;">    // 执行任务, Task1定义在pipeline/Task.json</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#81A1C1;">    if</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;"> (</span><span style="--shiki-light:#AF00DB;--shiki-dark:#81A1C1;">await</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> tskr</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">        .</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">post_task</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Task1</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">        .</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">wait</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">()</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">success</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">) </span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">{</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;">        console</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">log</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">success!</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">    }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">main</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="在js侧影响资源行为" tabindex="-1"><a class="header-anchor" href="#在js侧影响资源行为"><span>在JS侧影响资源行为</span></a></h2><p>注意执行任务的这段代码<code>await tskr.post_task(&#39;task&#39;, &#39;Task1&#39;).wait()</code></p><p><code>post</code>函数可以传入第三个参数, 该参数是一个对象, 其结构和<code>pipeline</code>下的json完全一致, 会覆盖在原有的<code>pipeline</code>之上. 因此, 可以通过在此处传入一个对象来实现控制任务(甚至创建新的任务).</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#000000;--shiki-dark:#d8dee9ff;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#2e3440ff;"><pre class="shiki shiki-themes light-plus nord vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;">// 通过第三个参数, 创建了一个新的任务Task2, 然后执行它</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#616E88;">// 此处创建的任务仅在当前执行中有效</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#81A1C1;">await</span><span style="--shiki-light:#001080;--shiki-dark:#D8DEE9;"> tskr</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">    .</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">post_task</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Task2</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#88C0D0;">        Task2</span><span style="--shiki-light:#001080;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#88C0D0;">            next</span><span style="--shiki-light:#001080;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;"> [</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">                &#39;</span><span style="--shiki-light:#A31515;--shiki-dark:#A3BE8C;">Task1</span><span style="--shiki-light:#A31515;--shiki-dark:#ECEFF4;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">            ]</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">        }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">    }</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#ECEFF4;">    .</span><span style="--shiki-light:#795E26;--shiki-dark:#88C0D0;">wait</span><span style="--shiki-light:#000000;--shiki-dark:#D8DEE9FF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="接下来" tabindex="-1"><a class="header-anchor" href="#接下来"><span>接下来</span></a></h2><p>请参考其它文档, 编写资源</p>`,10))])}const y=l(r,[["render",E]]),c=JSON.parse('{"path":"/en-us/binding/NodeJS/J1.1-%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B.html","title":"快速开始","lang":"en-US","frontmatter":{"description":"快速开始 注意: 本文档是关于如何使用 NodeJS 进行集成 安装 需要NodeJS 20及以上, 创建项目文件夹后通过下列命令安装 由于npm包中集成了MaaFramework的库以及AgentBinary, 下载可能会花费一点时间. 准备资源 参考 连接, 执行任务 对于一个最直接的流程而言, 我们需要执行以下步骤: 扫描设备 创建控制器并连接 ...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"快速开始\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-06-19T09:11:31.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"MaaFramework\\"}]}"],["meta",{"property":"og:url","content":"https://maafw.xyz/MaaFramework-Docs-Website/en-us/binding/NodeJS/J1.1-%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B.html"}],["meta",{"property":"og:site_name","content":"MaaFramework"}],["meta",{"property":"og:title","content":"快速开始"}],["meta",{"property":"og:description","content":"快速开始 注意: 本文档是关于如何使用 NodeJS 进行集成 安装 需要NodeJS 20及以上, 创建项目文件夹后通过下列命令安装 由于npm包中集成了MaaFramework的库以及AgentBinary, 下载可能会花费一点时间. 准备资源 参考 连接, 执行任务 对于一个最直接的流程而言, 我们需要执行以下步骤: 扫描设备 创建控制器并连接 ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-06-19T09:11:31.000Z"}],["meta",{"property":"article:modified_time","content":"2025-06-19T09:11:31.000Z"}],["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://maafw.xyz/MaaFramework-Docs-Website/zh-cn/binding/NodeJS/J1.1-%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B.html"}]]},"git":{"createdTime":1750324291000,"updatedTime":1750324291000,"contributors":[{"name":"weinibuliu","username":"weinibuliu","email":"weinibuliu@outlook.com","commits":1,"url":"https://github.com/weinibuliu"}]},"readingTime":{"minutes":1.58,"words":473},"filePathRelative":"en-us/binding/NodeJS/J1.1-快速开始.md","autoDesc":true}');export{y as comp,c as data};
